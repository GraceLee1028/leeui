(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["zhyx-ui"]=e():t["zhyx-ui"]=e()})("undefined"!==typeof self?self:this,(function(){return function(){"use strict";var t={};!function(){t.d=function(e,n){for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})}}(),function(){t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){t.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){t.p=""}();var e={};if(t.r(e),t.d(e,{Download:function(){return S},Select:function(){return c},default:function(){return j},fileUtil:function(){return g},install:function(){return $}}),"undefined"!==typeof window){var n=window.document.currentScript,a=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(t.p=a[1])}var o=function(){var t=this,e=t._self._c;return e("el-select",t._g(t._b({attrs:{clearable:"",filterable:""},on:{change:t.handleChange},model:{value:t.modelValueSet,callback:function(e){t.modelValueSet=e},expression:"modelValueSet"}},"el-select",t.$attrs,!1),t.$listeners),t._l(t.dataList,(function(n){return e("el-option",{key:n[t.getParams.value],attrs:{label:n[t.getParams.label],value:n[t.getParams.value]}})})),1)},l=[],i={name:"ZhyxSelect",model:{prop:"modelValue",event:"update:modelValue"},props:{isSetDefault:{type:Boolean,default:!1},modelValue:{type:[String,void 0],default:""},label:{type:String,default:""},params:{type:Object,default(){return{}}},url:{type:String,default:""},method:{type:String,default:"get"},list:{type:Array,default(){return[{label:"选项1",value:"1"},{label:"选项2",value:"2"}]}}},created(){this.getData()},activated(){!this.isRequest&&this.getData()},computed:{modelValueSet:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}},getParams(){return Object.assign({label:"label",value:"value"},this.params)},getList(){return this.list}},data(){return{dataList:[],isRequest:!1}},watch:{url(){this.getData()}},methods:{getData(){this.isRequest=!0;const t=new Promise((t=>{this.url?this.$http({url:this.url,method:this.method}).then((({data:e})=>{this.dataList=e.data||[],t()})).catch((()=>{this.dataList=[]})).finally((()=>{t()})):(this.dataList=this.getList,t())}));t.then((()=>{if(this.isSetDefault){const t=this.dataList.length>0?this.dataList[0]:null;this.modelValueSet=t?t[this.getParams.value]:"";const e=t?t[this.getParams.label]:"";this.$nextTick((()=>{this.$emit("update:label",e),this.$emit("change",[t])})),this.isRequest=!1}}))},handleChange(t){let e=this.dataList.filter((e=>e[this.getParams.value]===t)),n="";if(e.length>1)n=e.map((t=>t[this.getParams.label])).join(",");else if(e.length>0){let t=e[0];n=t[this.getParams.label]}this.$emit("update:label",n),this.$emit("change",e)}}},s=i;function r(t,e,n,a,o,l,i,s){var r,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),a&&(u.functional=!0),l&&(u._scopeId="data-v-"+l),i?(r=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},u._ssrRegister=r):o&&(r=s?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),r)if(u.functional){u._injectStyles=r;var d=u.render;u.render=function(t,e){return r.call(e),d(t,e)}}else{var c=u.beforeCreate;u.beforeCreate=c?[].concat(c,r):[r]}return{exports:t,options:u}}var u=r(s,o,l,!1,null,null,null),d=u.exports;d.install=function(t){t.component(d.name,d)};var c=d,f=function(){var t=this,e=t._self._c;return e("el-button",t._g(t._b({staticClass:"zhyx-download",on:{click:function(e){return t.download()}}},"el-button",t.$attrs,!1),t.$listeners),[t._t("default",(function(){return[t._v("下载")]}))],2)},h=[],p={props:{url:{type:String,default:""},method:{type:String,default:"get"}}};function m(t,e){const n=new Blob([t]),a=document.createElement("a");a.download=e,a.style.display="none";const o=URL.createObjectURL(n,{type:"application/octet-stream"});a.href=o,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o)}var g={downloadFile:m},y={name:"ZhyxDownload",mixins:[p],props:{method:{type:String,default:"post"},responseType:{type:String,default:"blob"}},computed:{},data(){return{}},methods:{download(){this.url?this.$http({url:this.url,method:this.method||"post",responseType:this.responseType||"blob"}).then((({data:t,fileName:e})=>{const n=t;m(n,e)})):console.log("接口地址为空")}}},b=y,v=r(b,f,h,!1,null,null,null),_=v.exports;_.install=function(t){t.component(_.name,_)};var S=_;const w=[c,S];function $(t){$.installed||w.map((e=>{t.component(e.name,e)}))}void 0!==typeof window&&window.Vue&&$(window.Vue);var x=$,j=x;return e}()}));
//# sourceMappingURL=zhyx-ui.umd.min.js.map